{% extends 'base.html' %}
{% block title %}Barcha savollar - AvtotestPrime{% endblock %}

{% block content %}
<div class="page-header">
    <h1><i class="fas fa-list"></i> Barcha savollar ({{ questions|length }})</h1>
</div>

<div class="questions-list">
    {% for q in questions %}
    <div class="question-card">
        <div class="question-card-content">
            <div class="question-info">
                <div class="question-number">#{{ q.number }}</div>
                <div class="question-text">{{ q.text }}</div>
            </div>
            {% if q.image %}
            <div class="question-thumb" onclick="openImageModal('{{ q.image.url }}')">
                <img src="{{ q.image.url }}" alt="Savol rasmi">
            </div>
            {% endif %}
        </div>
        <div class="question-variants">
            {% for v in q.variants %}
            <div class="variant {% if q.correct_answer == v.letter %}variant-correct{% endif %}">
                <span class="variant-letter">{{ v.letter }}</span> {{ v.text }}
            </div>
            {% endfor %}
        </div>
        <div class="question-actions">
            <a href="{% url 'toggle_bookmark' q.id %}" class="btn btn-sm {% if q.id in user_bookmarks %}btn-warning{% else %}btn-outline{% endif %}" onclick="event.preventDefault(); toggleBookmark(this, {{ q.id }});">
                <i class="fas fa-bookmark"></i>
                {% if q.id in user_bookmarks %}Saqlangan{% else %}Saqlash{% endif %}
            </a>
        </div>
    </div>
    {% empty %}
    <div class="empty-state">
        <i class="fas fa-inbox"></i>
        <p>Hozircha savollar mavjud emas</p>
    </div>
    {% endfor %}
</div>
{% endblock %}
